# TipTap 에디터 타이포그래피 고급 제어 기능 가이드

## 개요

무운 사주 칼럼 어드민 시스템의 RichTextEditor에 **고급 타이포그래피 제어 기능**이 추가되었습니다. 제품 디자이너님의 감각을 반영하여 텍스트 크기와 폰트 두께를 직관적인 드롭다운으로 제어할 수 있습니다.

---

## 주요 기능

### 1. 텍스트 크기 제어 (Font Size)

사용자가 선택한 텍스트의 크기를 5가지 옵션 중에서 선택할 수 있습니다.

| 크기 | 픽셀값 | 사용 사례 |
|------|--------|----------|
| 14px | 14px | 부제목, 작은 텍스트 |
| 16px | 16px | 기본 본문 텍스트 |
| 18px | 18px | 강조된 본문 |
| 20px | 20px | 소제목 |
| 24px | 24px | 주요 제목 |

**사용 방법:**
1. 에디터에서 텍스트를 선택합니다.
2. 타이포그래피 툴바의 "크기" 드롭다운에서 원하는 크기를 선택합니다.
3. 선택한 텍스트에 즉시 폰트 크기가 적용됩니다.

### 2. 폰트 두께 제어 (Font Weight)

텍스트의 두께를 4가지 옵션 중에서 선택할 수 있습니다. 이를 통해 시각적 계층 구조를 더욱 정교하게 표현할 수 있습니다.

| 두께 | 값 | 설명 |
|------|-----|------|
| Light | 300 | 가벼운 텍스트 (강조 감소) |
| Regular | 400 | 기본 두께 |
| Medium | 500 | 중간 두께 (약간의 강조) |
| Bold | 700 | 굵은 텍스트 (강한 강조) |

**사용 방법:**
1. 에디터에서 텍스트를 선택합니다.
2. 타이포그래피 툴바의 "두께" 드롭다운에서 원하는 두께를 선택합니다.
3. 선택한 텍스트에 즉시 폰트 두께가 적용됩니다.

### 3. 타이포그래피 초기화

적용된 텍스트 크기와 폰트 두께를 한 번에 초기화할 수 있습니다.

**사용 방법:**
1. 초기화할 텍스트를 선택합니다.
2. 타이포그래피 툴바의 "초기화" 버튼을 클릭합니다.
3. 선택한 텍스트의 모든 스타일이 초기화됩니다.

---

## 구현 상세

### 컴포넌트 구조

```
RichTextEditor (메인 에디터)
├── Toolbar (기본 서식 도구)
├── TypographyToolbar (타이포그래피 제어)
│   └── TypographyControls
│       ├── FontSize Select
│       ├── FontWeight Select
│       └── Reset Button
└── EditorContent (콘텐츠 영역)
```

### 기술 구현

**사용 라이브러리:**
- TipTap 3 (ProseMirror 기반)
- TextStyle 확장 (인라인 스타일 적용)
- shadcn/ui Select 컴포넌트

**인라인 스타일 적용:**
타이포그래피 제어는 TipTap의 `textStyle` 마크를 사용하여 인라인 스타일로 적용됩니다.

```typescript
// 텍스트 크기 적용
editor.chain().focus().setMark("textStyle", { fontSize: "20px" }).run();

// 폰트 두께 적용
editor.chain().focus().setMark("textStyle", { fontWeight: "700" }).run();

// 스타일 초기화
editor.chain().focus().clearNodes().run();
```

**HTML 출력 예시:**
```html
<p>
  <span style="font-size: 20px; font-weight: 700;">강조된 텍스트</span>
  일반 텍스트
</p>
```

---

## 사용 시나리오

### 시나리오 1: 칼럼 제목 강조

1. 칼럼의 주요 제목을 선택합니다.
2. 텍스트 크기를 "24px"로 설정합니다.
3. 폰트 두께를 "Bold (700)"으로 설정합니다.
4. 결과: 큰 크기의 굵은 제목이 생성됩니다.

### 시나리오 2: 강조 문구 표현

1. 강조하고 싶은 문구를 선택합니다.
2. 텍스트 크기를 "18px"로 유지합니다.
3. 폰트 두께를 "Medium (500)"으로 설정합니다.
4. 결과: 약간 강조된 텍스트가 생성됩니다.

### 시나리오 3: 부제목 생성

1. 부제목 텍스트를 선택합니다.
2. 텍스트 크기를 "20px"로 설정합니다.
3. 폰트 두께를 "Regular (400)"으로 유지합니다.
4. 결과: 명확한 계층 구조의 부제목이 생성됩니다.

---

## 스타일 가이드

### 추천 조합

| 용도 | 크기 | 두께 | 예시 |
|------|------|------|------|
| 메인 제목 | 24px | Bold (700) | **주요 제목** |
| 소제목 | 20px | Medium (500) | **소제목** |
| 강조 텍스트 | 18px | Medium (500) | *강조 텍스트* |
| 본문 | 16px | Regular (400) | 일반 본문 텍스트 |
| 주석/보충 | 14px | Light (300) | 작은 텍스트 |

### 디자인 원칙

1. **계층 구조 명확성:** 크기와 두께의 조합으로 명확한 시각적 계층을 만듭니다.
2. **가독성 유지:** 과도한 강조는 피하고, 필요한 부분만 선택적으로 적용합니다.
3. **일관성:** 같은 역할의 텍스트는 같은 크기와 두께를 사용합니다.

---

## 기술 세부사항

### 지원 브라우저

- Chrome/Chromium 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### 성능 고려사항

- 인라인 스타일은 HTML 크기를 약간 증가시킵니다.
- 과도한 스타일 적용은 렌더링 성능에 영향을 줄 수 있습니다.
- 권장: 칼럼당 최대 10-15개의 스타일 적용

### 저장 형식

타이포그래피 정보는 HTML로 저장되며, 필요시 마크다운으로 변환할 수 있습니다.

```html
<!-- 저장 형식 (HTML) -->
<p><span style="font-size: 20px; font-weight: 700;">제목</span></p>

<!-- 마크다운 변환 (스타일 손실) -->
**제목**
```

---

## 향후 개선 사항

1. **폰트 패밀리 선택:** 다양한 폰트 옵션 추가
2. **색상 제어:** 텍스트 색상 선택 기능
3. **라인 높이 조정:** 줄 간격 제어
4. **문자 간격:** 자간 조정 기능
5. **스타일 프리셋:** 자주 사용하는 조합을 프리셋으로 저장

---

## 문제 해결

### Q: 타이포그래피가 적용되지 않습니다.

**A:** 다음을 확인하세요:
1. 텍스트가 제대로 선택되었는지 확인합니다.
2. 에디터가 포커스 상태인지 확인합니다.
3. 브라우저 개발자 도구에서 인라인 스타일이 적용되었는지 확인합니다.

### Q: 저장된 칼럼에서 타이포그래피가 표시되지 않습니다.

**A:** 다음을 확인하세요:
1. 브라우저 CSS가 인라인 스타일을 덮어쓰고 있지 않은지 확인합니다.
2. 저장된 HTML이 올바른 형식인지 확인합니다.
3. 캐시를 초기화하고 페이지를 새로고침합니다.

### Q: 특정 폰트 크기를 추가하고 싶습니다.

**A:** `client/src/components/TypographyControls.tsx`의 `FONT_SIZES` 배열을 수정하세요:

```typescript
const FONT_SIZES = [
  { label: "12px", value: "12px" },  // 추가
  { label: "14px", value: "14px" },
  // ... 기존 항목
];
```

---

## 참고 자료

- [TipTap 공식 문서 - TextStyle](https://tiptap.dev/api/marks/text-style)
- [MDN - CSS font-size](https://developer.mozilla.org/en-US/docs/Web/CSS/font-size)
- [MDN - CSS font-weight](https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight)

---

**마지막 업데이트:** 2026년 2월 23일  
**작성자:** Manus AI  
**버전:** 1.0.0
